(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t),function(e){var t,a=n(14);e.exports=(t={JOIN_GAME:"join",CREATE_GAME:"create",DRAW:"draw",GUESS:"guess",WORD_SELECT:"wordselect",CONNECT:"connect",SOCKET:"socket",GAME_ID:"gameId",CLIENT_ID:"clientId",NAME:"name",WS_CONNECT:"ws_connect",WS_DISCONNECT:"ws_disconnect",WS_SEND_MESSAGE:"ws_message",UPDATE_PLAYER_LIST:"update_player_list",REMOVE_PLAYER:"remove_player",MUTE:"mute",UNMUTE:"unmute",SET_LOCAL_STREAM:"localstream",SET_REMOTE_STREAM:"remotestream",SET_REMOTE_CORDS:"cords",START_GAME:"start_game",UPDATE_POINTS:"update_points",DRAW_LINES:"draw_lines",RESET:"reset"},Object(a.a)(t,"WORD_SELECT","wordselect"),Object(a.a)(t,"PREV_CLIENTS","prevClients"),Object(a.a)(t,"SEND_ICE_CANDIDATE","sendIceCandidate"),Object(a.a)(t,"WEBRTC_OFFER","webRTCOffer"),Object(a.a)(t,"END_GAME","end_game"),Object(a.a)(t,"WEBRTC_ANSWER","webRTCAnswer"),Object(a.a)(t,"TURN","TURN"),Object(a.a)(t,"WAIT","WAIT"),t)}.call(this,n(47)(e))},43:function(e,t,n){},6:function(e,t,n){"use strict";n.r(t),n.d(t,"wsConnect",(function(){return c})),n.d(t,"wsDisconnect",(function(){return r})),n.d(t,"wsSendMessage",(function(){return s}));var a=n(15),c=function(e){return{type:a.WS_CONNECT,host:e}},r=function(e){return{type:a.WS_DISCONNECT,host:e}},s=function(e){return{type:a.WS_SEND_MESSAGE,payload:e}}},67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(21),s=n.n(r),i=(n(43),n(5)),o=n(18),l=n(20),d=n(2),u=n(15),m={gameId:null,name:"",clientId:"",chatEvent:null,isCreator:!1};var j,b=n(37),p=n(12),O=n.n(p),f=n(38),h=n(17),E=n(23),v=n.n(E),g={URL:"https://drawasarus.herokuapp.com/",WS_URL:"wss://drawasarus.herokuapp.com/"},I=Object(d.a)({},g),y=n(15),x=function(e){return{type:y.CLIENT_ID,payload:{clientId:e}}},T=function(e){return{type:y.GAME_ID,payload:{gameId:e}}},S=function(e){return{type:y.NAME,payload:{name:e}}},C=n(15),_=function(e){return{type:"RESET_GAME",payload:{val:e}}},w=function(e){return{type:C.REMOVE_PLAYER,payload:{id:e}}},N=function(e){return{type:C.SET_REMOTE_CORDS,payload:{cords:e.cords}}},R=function(e){return{type:"CHOICE",payload:{words:e.words,turnTime:e.turnTime,gameTime:e.gameTime}}},A=function(e){var t=e.name;if("time"in e){var n=e.time;return{type:"SELECTOR",payload:{name:t,time:n}}}return{type:"SELECTOR",payload:{name:t,time:n}}},k=function(e){return{type:"HINT",payload:{hint:e.hint,time:e.time}}},D=n(6),M=n(15),L={},W={},G={audio:!0,video:!1},P={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]};function B(e){j.getTracks().forEach((function(t){e.addTrack(t,j)}))}var U=function(){var e=Object(h.a)(O.a.mark((function e(t,n,a){var c,r,s,i,o,l,d,u,m,b;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.data){e.next=83;break}if(!(c=JSON.parse(t.data))||!c.method){e.next=83;break}e.t0=c.method,e.next=e.t0===M.CONNECT?6:e.t0===M.CREATE_GAME?15:e.t0===M.JOIN_GAME?19:e.t0===M.DRAW_LINES?21:e.t0===M.TURN?23:e.t0===M.WAIT?25:e.t0===M.WORD_SELECT?27:e.t0===M.GUESS?29:e.t0===M.RESET?32:e.t0===M.DRAW?34:e.t0===M.SET_REMOTE_CORDS?36:e.t0===M.PREV_CLIENTS?38:e.t0===M.UPDATE_PLAYER_LIST?61:e.t0===M.REMOVE_PLAYER?63:e.t0===M.END_GAME?65:e.t0===M.WEBRTC_OFFER?67:e.t0===M.WEBRTC_ANSWER?77:e.t0===M.SEND_ICE_CANDIDATE?79:82;break;case 6:return r=c.clientId,n(x(r)),s={method:M.JOIN_GAME,clientId:r,gameId:a.user.gameId,name:a.user.name},n(Object(D.wsSendMessage)(s)),e.next=12,navigator.mediaDevices.getUserMedia(G);case 12:return j=e.sent,n((y=j,{type:C.SET_LOCAL_STREAM,payload:{stream:y}})),e.abrupt("break",83);case 15:return i=c.gameId,n(T(i)),sessionStorage.setItem("gameId",i),e.abrupt("break",83);case 19:return c.name,e.abrupt("break",83);case 21:return sessionStorage.setItem("currentState",JSON.stringify(c.lines)),e.abrupt("break",83);case 23:return n(R(c)),e.abrupt("break",83);case 25:return n(A(c)),e.abrupt("break",83);case 27:return n(k(c)),e.abrupt("break",83);case 29:return 0!=c.points&&n((g=c.points,I=c.clientId,{type:C.UPDATE_POINTS,payload:{points:g,id:I}})),n((v=c,{type:C.GUESS,payload:{chatEvent:v}})),e.abrupt("break",83);case 32:return n(_(!0)),e.abrupt("break",83);case 34:return n((E=c,{type:C.DRAW,payload:{image:E.canvasEvent}})),e.abrupt("break",83);case 36:return n(N(c)),e.abrupt("break",83);case 38:o=c.clients;case 39:if(null!=j&&void 0!=j){e.next=44;break}return e.next=42,new Promise((function(e){return setTimeout(e,100)}));case 42:e.next=39;break;case 44:l=Object(f.a)(o),e.prev=45,u=O.a.mark((function e(){var t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.value,c=new RTCPeerConnection(P),L[t]=c,B(c),c.ontrack=function(e){var n=document.createElement("video");n.autoplay="autoplay",n.srcObject=e.streams[0],n.setAttribute("id",t),document.getElementById("audioEvents").appendChild(n),W[t]=e.streams[0]},c.onicecandidate=function(e){if(e.candidate){var c={method:M.SEND_ICE_CANDIDATE,senderId:a.user.clientId,receiverId:t,label:e.candidate.sdpMLineIndex,candidate:e.candidate.candidate};n(Object(D.wsSendMessage)(c))}},e.next=8,Object(h.a)(O.a.mark((function e(){var r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.createOffer();case 3:r=e.sent,c.setLocalDescription(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error in setting session desc");case 10:s={method:M.WEBRTC_OFFER,sdp:r,senderId:a.user.clientId,receiverId:t},n(Object(D.wsSendMessage)(s));case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))();case 8:e.sent;case 9:case"end":return e.stop()}}),e)})),l.s();case 48:if((d=l.n()).done){e.next=52;break}return e.delegateYield(u(),"t1",50);case 50:e.next=48;break;case 52:e.next=57;break;case 54:e.prev=54,e.t2=e.catch(45),l.e(e.t2);case 57:return e.prev=57,l.f(),e.finish(57);case 60:return e.abrupt("break",83);case 61:return n((p=c,{type:C.UPDATE_PLAYER_LIST,payload:p})),e.abrupt("break",83);case 63:return n(w(c.id)),e.abrupt("break",83);case 65:return n({type:"end_game",payload:{playerlist:c.playerlist}}),e.abrupt("break",83);case 67:return m=new RTCPeerConnection(P),L[c.senderId]=m,B(m),m.ontrack=function(e){var t=document.createElement("video");t.autoplay="autoplay",t.srcObject=e.streams[0],t.setAttribute("id",c.senderId),document.getElementById("audioEvents").appendChild(t),W[c.senderId]=e.streams[0]},m.onicecandidate=function(e){if(e.candidate){var t={method:M.SEND_ICE_CANDIDATE,senderId:a.user.clientId,receiverId:c.senderId,label:e.candidate.sdpMLineIndex,candidate:e.candidate.candidate};n(Object(D.wsSendMessage)(t))}},m.setRemoteDescription(new RTCSessionDescription(c.sdp)),e.next=75,Object(h.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.createAnswer();case 3:t=e.sent,m.setLocalDescription(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error in setting session desc");case 10:r={method:M.WEBRTC_ANSWER,sdp:t,senderId:a.user.clientId,receiverId:c.senderId},n(Object(D.wsSendMessage)(r));case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))();case 75:return e.sent,e.abrupt("break",83);case 77:return L[c.senderId].setRemoteDescription(c.sdp),e.abrupt("break",83);case 79:return b=new RTCIceCandidate({sdpMLineIndex:c.label,candidate:c.candidate}),L[c.senderId].addIceCandidate(b),e.abrupt("break",83);case 82:console.log("other event:"+c.method);case 83:case"end":return e.stop()}var p,E,v,g,I,y}),e,null,[[45,54,57,60]])})));return function(t,n,a){return e.apply(this,arguments)}}(),J=n(15),Y=J.WS_CONNECT,H=J.WS_DISCONNECT,V=J.WS_SEND_MESSAGE,F=n(6),K=(F.wsConnect,F.wsDisconnect,function(){var e=null;return function(t){return function(n){return function(a){switch(a.type){case Y:null!=e&&(e.close(),""),(e=new WebSocket(a.host)).onmessage=function(e){return function(t){U(t,e.dispatch,e.getState())}}(t),e.onclose=function(e){console.log("web socket connection closed")},e.onopen=function(e){console.log("web socket connection opened")};break;case H:null!=e&&e.close(),e=null,"";break;case V:e.send(JSON.stringify(a.payload))}return n(a)}}}}),q=n(15),X={players:[],localStream:null,remoteCords:[0,0,0,0],receivedDrawEvent:!1,image:null,choice:null,selector:null,hint:null,gameTime:0,turnTime:0,playerlist:null,resetGame:!1};var z=Object(l.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SOCKET:return Object(d.a)(Object(d.a)({},e),{},{ws:t.payload.ws});case u.GAME_ID:return Object(d.a)(Object(d.a)({},e),{},{gameId:t.payload.gameId});case"clientId":return Object(d.a)(Object(d.a)({},e),{},{clientId:t.payload.clientId});case u.NAME:return Object(d.a)(Object(d.a)({},e),{},{name:t.payload.name});case u.GUESS:return Object(d.a)(Object(d.a)({},e),{},{chatEvent:t.payload.chatEvent});case"set_create":return Object(d.a)(Object(d.a)({},e),{},{isCreator:!0});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.UPDATE_PLAYER_LIST:return Object(d.a)(Object(d.a)({},e),{},{players:t.payload.playerlist});case q.UPDATE_POINTS:return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(e){return e.id==t.payload.id&&e.points++,e}))});case"RESET_GAME":return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(e){return 1==t.payload.val&&(e.points=0),e})),resetGame:t.payload.val});case q.REMOVE_PLAYER:return Object(d.a)(Object(d.a)({},e),{},{players:e.players.filter((function(e){return e.id!=t.payload.id}))});case q.DRAW:return Object(d.a)(Object(d.a)({},e),{},{image:t.payload.image});case q.SET_REMOTE_CORDS:return Object(d.a)(Object(d.a)({},e),{},{remoteCords:t.payload.cords,receivedDrawEvent:!e.receivedDrawEvent});case q.SET_LOCAL_STREAM:return Object(d.a)(Object(d.a)({},e),{},{localStream:t.payload.stream});case q.SET_REMOTE_STREAM:var n=JSON.parse(JSON.stringify(e.players));return n.forEach((function(e){e.id==t.payload.id&&(e.remoteStream=t.payload.stream)})),Object(d.a)(Object(d.a)({},e),{},{players:n});case"CHOICE":return Object(d.a)(Object(d.a)({},e),{},{choice:t.payload.words,turnTime:t.payload.turnTime,gameTime:t.payload.gameTime});case"SELECTOR":return"time"in t.payload?Object(d.a)(Object(d.a)({},e),{},{selector:t.payload.name,turnTime:t.payload.time}):Object(d.a)(Object(d.a)({},e),{},{selector:t.payload.name});case"HINT":return Object(d.a)(Object(d.a)({},e),{},{hint:JSON.parse(JSON.stringify(t.payload.hint)),gameTime:t.payload.time});case"end_game":return Object(d.a)(Object(d.a)({},e),{},{playerlist:t.payload.playerlist});default:return e}}}),Q=[b.a,K()],Z=Object(l.d)(z,Object(l.c)(l.a.apply(void 0,Q))),$=n(4),ee=n(7),te=(n(67),n(1));var ne=function(e){var t=Object(a.useState)(!1),n=Object(ee.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return{clientId:e.user.clientId,localStream:e.game.localStream}})),o=function(){var t=document.getElementById("audioEvents").childNodes;if(s.clientId==e.id&&null!=s.localStream)return c?s.localStream.getAudioTracks().forEach((function(e){return e.enabled=!0})):s.localStream.getAudioTracks().forEach((function(e){return e.enabled=!1})),void r(!c);t.forEach((function(t){t.getAttribute("id")==e.id&&(null!=t.srcObject&&(c?t.srcObject.getAudioTracks().forEach((function(e){return e.enabled=!0})):t.srcObject.getAudioTracks().forEach((function(e){return e.enabled=!1})),r(!c)))}))};return Object(te.jsxs)("div",{className:"player",style:{color:e.id==s.clientId?"black":"#6a4c93"},children:[Object(te.jsx)("div",{children:e.name}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{children:e.points})}),Object(te.jsx)("div",{children:c?Object(te.jsx)("span",{className:"material-icons",onClick:o,children:"volume_off"}):Object(te.jsx)("span",{className:"material-icons",onClick:o,children:"volume_up"})})]})};n(69);var ae,ce,re,se,ie=function(e){Object(i.b)();var t=Object(i.c)((function(e){return e.game.players})).map((function(e){return Object(te.jsx)(ne,{id:e.id,name:e.name,points:e.points},e.id)}));return Object(te.jsxs)("div",{className:"leader-board-container",children:[Object(te.jsx)("div",{className:"player-details-container",children:t}),Object(te.jsx)("div",{className:"copyCode",children:Object(te.jsx)("input",{type:"button",value:"Copy GameCode",onClick:e.copyCode})})]})},oe=n(15),le=function(e){var t=e.canDraw,n=Object(a.useState)(!1),c=Object(ee.a)(n,2),r=c[0],s=c[1],o=Object(a.useRef)(null),l=Object(a.useRef)(null),d=Object(i.b)(),u=Object(i.c)((function(e){return{clientId:e.user.clientId,gameId:e.user.gameId,remoteCords:e.game.remoteCords,image:e.game.image,receivedDrawEvent:e.game.receivedDrawEvent,choice:e.game.choice,selector:e.game.selector,hint:e.game.hint,gameTime:parseInt(e.game.gameTime)}}));Object(a.useEffect)((function(){var e=o.current;e.width=parseInt(getComputedStyle(document.querySelector("#canvasElement")).getPropertyValue("width")),e.height=window.innerHeight,e.style.width="100%",e.style.height="100%";var t=e.getContext("2d");t.lineCap="round",t.strokeStyle="black",t.lineWidth=2,l.current=t}),[]),Object(a.useEffect)((function(){var e=Object(ee.a)(u.remoteCords,4),t=e[0],n=e[1],a=e[2],c=e[3],r=JSON.parse(sessionStorage.getItem("currentState"));null!=r&&(r.map((function(e){var t=Object(ee.a)(e,4),n=t[0],a=t[1],c=t[2],r=t[3];m(n,a,c,r)})),sessionStorage.removeItem("currentState")),m(t,n,a,c)}),[u.receivedDrawEvent]),Object(a.useEffect)((function(){if(e.canDraw)var t=o.current,n=t.getContext("2d"),a=u.gameTime,c=setInterval((function(){if(a<1)clearInterval(c);else{var e=""+(a-=1),r=n.measureText(e);n.clearRect(t.width-75-r.width,0,t.width,25),n.fillText(e,t.width-75,25)}}),1e3)}),[e.canDraw]);var m=function(e,t,n,a){l.current.beginPath(),l.current.moveTo(e,t),l.current.lineTo(n,a),l.current.stroke(),l.current.closePath()};function j(){var e=o.current;l.current.clearRect(0,0,e.width,e.height)}Object(a.useEffect)((function(){null!==u.choice&&j()}),[u.choice]),Object(a.useEffect)((function(){null!==u.selector&&j()}),[u.selector]),Object(a.useEffect)((function(){u.image}),[u.image]),Object(a.useEffect)((function(){if(null!=u.hint)var e=o.current,t=e.getContext("2d"),n=u.gameTime,a=setInterval((function(){if(n<1)clearInterval(a);else{n-=1;var c=u.hint+"   "+n,r=t.measureText(c);t.clearRect(e.width-75-r.width,0,e.width,25),t.fillText(c,e.width-75,25)}}),1e3)}),[u.hint]);var b=function(e){var t=o.current;return{x:e.offsetX*t.width/t.clientWidth|0,y:e.offsetY*t.height/t.clientHeight|0}};return Object(te.jsx)("canvas",{onMouseDown:function(e){var n=e.nativeEvent;t&&(l.current.beginPath(),ae=b(n).x,ce=b(n).y,l.current.moveTo(ae,ce),s(!0))},onMouseUp:function(){l.current.closePath(),s(!1),clearInterval(undefined)},onMouseMove:function(e){var t=e.nativeEvent;if(r){re=b(t).x,se=b(t).y;var n={method:oe.SET_REMOTE_CORDS,gameId:u.gameId,clientId:u.clientId,cords:[ae,ce,re,se]};d(Object(D.wsSendMessage)(n)),l.current.lineTo(re,se),l.current.stroke(),ae=re,ce=se}},ref:o,id:"canvasElement",style:{width:"100%"},disabled:!0})},de=(n(70),n(15)),ue=function(){var e=Object(a.useState)(!1),t=Object(ee.a)(e,2),n=t[0],c=t[1],r=Object(i.b)(),s=Object(i.c)((function(e){return{clientId:e.user.clientId,name:e.user.name,gameId:e.user.gameId,chatEvent:e.user.chatEvent}}));Object(a.useEffect)((function(){l(s.chatEvent)}),[s.chatEvent]);var o=function(e){null===e&&(e=document.getElementsByClassName("textContainer")[0].value),""!==(e=e.trim())&&(e={method:de.GUESS,guessWord:e,clientId:s.clientId,name:s.name,gameId:s.gameId},r(Object(D.wsSendMessage)(e)),document.getElementsByClassName("textContainer")[0].value="")},l=function(e){if(e){var t=d(e);document.getElementById("chatMessages").innerHTML+=t;var n=document.getElementById("outerContainer");n.scrollTop=n.scrollHeight}},d=function(e){var t=e.clientId===s.clientId;if(e.points){var n=(t?"You":e.name)+" got it right";return"<li class=notif>".concat(n,"</li>")}var a=t?"mine":"their",c="";return t||(c="<span class='senderName'>".concat(e.name,"</span>")),"<li class='message ".concat(a,"'>\n        <div class='messageContainer'>\n            ").concat(c,"\n            <span class='messageBody'>\n                ").concat(e.guessWord,"\n            </span>\n        </div>\n    </li>")},u=function(){c(!n)},m=n?Object(te.jsx)("span",{className:"material-icons micButton",onClick:function(){return u()},children:"mic"}):Object(te.jsx)("span",{className:"material-icons micButton",onClick:function(){return u()},children:"mic_off"});return Object(te.jsxs)("div",{className:"outerContainer",id:"outerContainer",children:[Object(te.jsx)("div",{className:"chatContainer",children:Object(te.jsx)("div",{id:"chatMessages",className:"chatMessages"})}),Object(te.jsx)("footer",{children:Object(te.jsxs)("div",{className:"footerContainer",children:[Object(te.jsx)("input",{className:"textContainer",id:"textInputContainer",placeholder:"Type a message...",onKeyPress:function(e){return"Enter"===e.key?o(e.target.value):null}}),Object(te.jsx)("i",{className:"material-icons sendButton",onClick:function(){return o(null)},children:"send"}),m]})})]})},me=(n(71),function(e){e.handleClose;var t=e.show,n=e.children,a=t?"modal display-block":"modal display-none";return Object(te.jsx)("div",{className:a,children:Object(te.jsx)("section",{className:"modal-main",children:n})})}),je=(n(72),n(15));var be=function(){var e=Object($.f)(),t=Object(i.b)(),n=Object(a.useState)(null),c=Object(ee.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(!1),l=Object(ee.a)(o,2),d=l[0],u=l[1],m=Object(i.c)((function(e){return{gameId:e.user.gameId,clientId:e.user.clientId,isCreator:e.user.isCreator,name:e.user.name,choice:e.game.choice,selector:e.game.selector,resetGame:e.game.resetGame,turnTime:parseInt(e.game.turnTime),hint:e.game.hint,playerlist:e.game.playerlist}})),j=Object(a.useState)(m.isCreator),b=Object(ee.a)(j,2),p=b[0],O=b[1],f=Object(a.useState)(0),h=Object(ee.a)(f,2),E=(h[0],h[1]),v=Object(a.useState)(0),g=Object(ee.a)(v,2),I=(g[0],g[1]);function y(){var e=document.getElementById("selectionTimer"),n=document.getElementById("turnTimer"),a=e.options[e.selectedIndex].value,c=n.options[n.selectedIndex].value,r={method:je.START_GAME,gameTimer:c,turnTimer:a,gameId:m.gameId};E(a),I(c),O(!1),t(Object(D.wsSendMessage)(r))}function x(){var e=window.location.pathname.split("/")[2];navigator.clipboard.writeText(e)}return Object(a.useEffect)((function(){if(null!==m.choice){O(!0),t(A({name:m.name}));var e=m.turnTime;s(Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"headerContainer",children:[Object(te.jsx)("span",{id:"wordSelectionText",children:"Choose a Word"}),Object(te.jsx)("span",{id:"time",children:e})]}),Object(te.jsx)("div",{className:"buttonContainer",children:m.choice.map((function(e){return Object(te.jsx)("button",{className:"selectionButton",onClick:function(){!function(e){var n={method:"choice",word:e,clientId:m.clientId,gameId:m.gameId};O(!1),t(Object(D.wsSendMessage)(n)),u(!0)}(e)},children:e},e)}))})]}));var n=setInterval((function(){e<=1?clearTimeout(n):(e--,document.getElementById("time").innerHTML=e)}),1e3)}}),[m.choice]),Object(a.useEffect)((function(){if(null!==m.selector&&m.selector!=m.name){u(!1),O(!0);var e=m.turnTime;s(Object(te.jsxs)("div",{className:"headerContainer",children:[Object(te.jsxs)("span",{id:"wordSelectionText",children:["Please wait ",m.selector," is choosing a word"]}),Object(te.jsx)("span",{id:"time"})]}));var t=setInterval((function(){e<=1?clearTimeout(t):(e--,document.getElementById("time").innerHTML=e)}),1e3)}}),[m.selector]),Object(a.useEffect)((function(){null===m.gameId&&e.push("/")}),[m.gameId]),Object(a.useEffect)((function(){1==m.resetGame&&(t(_(!1)),O(!1))}),[m.resetGame]),Object(a.useEffect)((function(){s(Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{children:["Set Timeout for Drawing:",Object(te.jsxs)("select",{id:"turnTimer",children:[Object(te.jsx)("option",{value:"40",children:"40"}),Object(te.jsx)("option",{value:"45",children:"45"}),Object(te.jsx)("option",{value:"50",children:"50"}),Object(te.jsx)("option",{value:"55",children:"55"}),Object(te.jsx)("option",{value:"60",children:"60"}),Object(te.jsx)("option",{value:"65",children:"65"}),Object(te.jsx)("option",{value:"70",children:"70"}),Object(te.jsx)("option",{value:"75",children:"75"}),Object(te.jsx)("option",{value:"80",children:"80"}),Object(te.jsx)("option",{value:"85",children:"85"})]})]}),Object(te.jsxs)("div",{children:["Set Timeout for Word Selection:",Object(te.jsxs)("select",{id:"selectionTimer",children:[Object(te.jsx)("option",{value:"15",children:"15"}),Object(te.jsx)("option",{value:"20",children:"20"}),Object(te.jsx)("option",{value:"25",children:"25"}),Object(te.jsx)("option",{value:"30",children:"30"}),Object(te.jsx)("option",{value:"35",children:"35"}),Object(te.jsx)("option",{value:"40",children:"40"})]})]}),"Click here to copy the game code",Object(te.jsx)("span",{className:"material-icons copyButton",onClick:x,children:"content_copy"}),Object(te.jsx)("button",{onClick:y,children:"Start Game!"})]}))}),[]),Object(a.useEffect)((function(){null!==m.hint&&O(!1)}),[m.hint]),Object(a.useEffect)((function(){null!==m.playerlist&&(m.playerlist.sort((function(e,t){return e.points>t.points?-1:1})),O(!0),s(Object(te.jsxs)("div",{children:[Object(te.jsx)("p",{children:"Leader Board"}),m.playerlist.map((function(e){return Object(te.jsxs)("div",{children:[Object(te.jsx)("p",{children:e.name}),Object(te.jsx)("p",{children:e.points})]},e.id)})),Object(te.jsx)("p",{children:"Game Ended!!!"}),m.isCreator&&Object(te.jsx)("button",{onClick:function(){!function(){O(!1);var e={method:je.START_GAME,gameId:m.gameId};t(Object(D.wsSendMessage)(e))}()},children:"Play again"})]})))}),[m.playerlist]),Object(te.jsxs)("div",{className:"gamePageContainer",children:[Object(te.jsx)("div",{className:"leaderBoard",children:Object(te.jsx)(ie,{copyCode:x})}),Object(te.jsx)("div",{className:"canvas",children:Object(te.jsx)(le,{canDraw:d})}),Object(te.jsx)("div",{className:"chatBox",children:Object(te.jsx)(ue,{})}),Object(te.jsx)("div",{id:"audioEvents"}),Object(te.jsx)(me,{id:"modal",show:p,children:r})]})};n(75);var pe=function(){var e=c.a.useState(!1),t=Object(ee.a)(e,2),n=t[0],a=t[1],r=Object(i.b)(),s=Object($.f)(),o=(Object(i.c)((function(e){return{clientId:e.user.clientId,gameId:e.user.gameId,name:e.user.name,isClientCreated:e.user.isClientCreated,isGameCreated:e.user.isGameCreated}})),function(){var e=Object(h.a)(O.a.mark((function e(){var t,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(S(document.getElementById("name").value)),t=document.getElementById("gameId").value,n={gameId:t},e.next=5,v.a.get(I.URL+"isValidGame",{headers:n});case 5:if((a=e.sent)&&a.data&&a.data.valid){e.next=9;break}return alert("Game id is Invalid. Please check again"),e.abrupt("return");case 9:r(T(t)),r(Object(D.wsConnect)(I.WS_URL)),s.push("game/"+t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(te.jsx)("div",{className:"LandingPage",children:Object(te.jsxs)("div",{className:"well",children:[Object(te.jsxs)("div",{className:"row selectors ",children:[Object(te.jsx)("input",{type:"text",className:"create",defaultValue:"Create",readOnly:!0,onClick:function(){a(!1)}}),Object(te.jsx)("input",{type:"text",className:"join",defaultValue:"Join",readOnly:!0,onClick:function(){a(!0)}})]}),n?Object(te.jsxs)("div",{className:"row joinCell",children:[Object(te.jsxs)("div",{className:"input-container",children:[Object(te.jsx)("input",{type:"text",id:"name",placeholder:"Enter Your Name"}),Object(te.jsx)("input",{type:"text",id:"gameId",placeholder:"Enter Game Id"})]}),Object(te.jsx)("div",{children:Object(te.jsx)("input",{type:"button",value:"Join",onClick:o})})]}):Object(te.jsxs)("div",{className:"row createCell",children:[Object(te.jsx)("input",{type:"text",id:"name",placeholder:"Enter Your Name"}),Object(te.jsx)("input",{type:"button",value:"Create",onClick:function(){r({type:"set_create"}),r(S(document.getElementById("name").value)),r((function(e){return v.a.post(I.URL+"create-game").then((function(t){return t=t.data,e(T(t.gameId)),"game/".concat(t.gameId)})).catch((function(e){return""}))})).then((function(e){""!=e&&(r(Object(D.wsConnect)(I.WS_URL)),s.push(e))}))}})]})]})})};var Oe=function(e){return Object(te.jsxs)($.c,{children:[Object(te.jsx)($.a,{exact:!0,path:"/",children:Object(te.jsx)(pe,{props:e})}),Object(te.jsx)($.a,{path:"/game/:code",children:Object(te.jsx)(be,{})})]})};s.a.render(Object(te.jsx)(i.a,{store:Z,children:Object(te.jsx)(o.a,{children:Object(te.jsx)("div",{className:"playGroundContainer",children:Object(te.jsx)(Oe,{props:Z})})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.910fc49a.chunk.js.map