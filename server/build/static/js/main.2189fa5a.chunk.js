(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{2:function(e,t){e.exports={JOIN_GAME:"join",CREATE_GAME:"create",DRAW:"draw",GUESS:"guess",WORD_SELECT:"wordselect",CONNECT:"connect",SOCKET:"socket",GAME_ID:"gameId",CLIENT_ID:"clientId",NAME:"name",WS_CONNECT:"ws_connect",WS_DISCONNECT:"ws_disconnect",WS_SEND_MESSAGE:"ws_message",UPDATE_PLAYER_LIST:"update_player_list",REMOVE_PLAYER:"remove_player",MUTE:"mute",UNMUTE:"unmute",SET_LOCAL_STREAM:"localstream",SET_REMOTE_STREAM:"remotestream",SET_REMOTE_CORDS:"cords",START_GAME:"start_game",UPDATE_POINTS:"update_points",DRAW_LINES:"draw_lines"}},42:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},7:function(e,t,n){"use strict";n.r(t),n.d(t,"wsConnect",(function(){return c})),n.d(t,"wsDisconnect",(function(){return r})),n.d(t,"wsSendMessage",(function(){return o}));var a=n(2),c=function(e){return{type:a.WS_CONNECT,host:e}},r=function(e){return{type:a.WS_DISCONNECT,host:e}},o=function(e){return console.log("dispatching sendmessage"),{type:a.WS_SEND_MESSAGE,payload:e}}},70:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(20),o=n.n(r),s=(n(42),n(6)),l=n(17),i=n(19),d=n(3),u=n(2),m=n.n(u),p={gameId:null,name:"",clientId:"",chatEvent:null,isCreator:!1};var b,g=n(36),j=n(10),f=n.n(j),O=n(37),h=n(16),v=n(22),E=n.n(v),I={URL:"https://drawasarus.herokuapp.com/",WS_URL:"wss://drawasarus.herokuapp.com/"},y=Object(d.a)({},I),S=function(e){return{type:u.CLIENT_ID,payload:{clientId:e}}},C=function(e){return{type:u.GAME_ID,payload:{gameId:e}}},x=function(e){return{type:u.NAME,payload:{name:e}}},w=function(e){return{type:u.REMOVE_PLAYER,payload:{id:e}}},T=function(e){return{type:u.SET_REMOTE_CORDS,payload:{cords:e.cords}}},_=function(e){return{type:"HINT",payload:{hint:e}}},N=n(7),k={},R={},A={audio:!0,video:!1},M={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]};function D(e){console.log("addLocalTracks:"),console.log(b),b.getTracks().forEach((function(t){e.addTrack(t,b)}))}var L=function(){var e=Object(h.a)(f.a.mark((function e(t,n,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("event received:"),!t||!t.data){e.next=3;break}return e.delegateYield(f.a.mark((function e(){var c,r,o,s,l,i,d,p,g,j,v;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=JSON.parse(t.data),console.log(c),!c||!c.method){e.next=89;break}console.log("In event, handler event type:"+c.method),e.t0=c.method,e.next=e.t0===m.a.CONNECT?7:e.t0===m.a.CREATE_GAME?18:e.t0===m.a.JOIN_GAME?22:e.t0===m.a.DRAW_LINES?25:"TURN"===e.t0?28:"WAIT"===e.t0?30:"wordselect"===e.t0?32:e.t0===m.a.GUESS?34:e.t0===m.a.DRAW?37:e.t0===m.a.SET_REMOTE_CORDS?39:"prevClients"===e.t0?41:e.t0===m.a.UPDATE_PLAYER_LIST?64:e.t0===m.a.REMOVE_PLAYER?67:"end_game"===e.t0?69:"webRTCOffer"===e.t0?71:"webRTCAnswer"===e.t0?83:"sendIceCandidate"===e.t0?85:88;break;case 7:return r=c.clientId,console.log("dispatch client id"),n(S(r)),o={method:m.a.JOIN_GAME,clientId:r,gameId:a.user.gameId,name:a.user.name},n(Object(N.wsSendMessage)(o)),e.next=14,navigator.mediaDevices.getUserMedia(A);case 14:return b=e.sent,console.log("localStream fetched:"),n((P=b,{type:u.SET_LOCAL_STREAM,payload:{stream:P}})),e.abrupt("break",89);case 18:return s=c.gameId,n(C(s)),sessionStorage.setItem("gameId",s),e.abrupt("break",89);case 22:return l=c.name,console.log(l,"Joined"),e.abrupt("break",89);case 25:return sessionStorage.setItem("currentState",JSON.stringify(c.lines)),console.log("---\x3e storing lines"),e.abrupt("break",89);case 28:return n({type:"CHOICE",payload:{words:c.words}}),e.abrupt("break",89);case 30:return n({type:"SELECTOR",payload:{name:c.name}}),e.abrupt("break",89);case 32:return n(_(c.hint)),e.abrupt("break",89);case 34:return 0!=c.points&&n((x=c.points,L=c.clientId,{type:u.UPDATE_POINTS,payload:{points:x,id:L}})),n((y=c,{type:u.GUESS,payload:{chatEvent:y}})),e.abrupt("break",89);case 37:return n((I=c,{type:u.DRAW,payload:{image:I.canvasEvent}})),e.abrupt("break",89);case 39:return n(T(c)),e.abrupt("break",89);case 41:i=c.clients;case 42:if(null!=b&&void 0!=b){e.next=47;break}return e.next=45,new Promise((function(e){return setTimeout(e,100)}));case 45:e.next=42;break;case 47:d=Object(O.a)(i),e.prev=48,g=f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.value,console.log("--\x3e new player",t),console.log(a),r=new RTCPeerConnection(M),k[t]=r,D(r),r.ontrack=function(e){console.log(e),console.log("new client remote stream attached <---",c.senderId);var n=document.createElement("video");n.autoplay="autoplay",n.srcObject=e.streams[0],n.setAttribute("id",t),document.getElementById("audioEvents").appendChild(n),R[t]=e.streams[0]},r.onicecandidate=function(e){if(e.candidate){var c={method:"sendIceCandidate",senderId:a.user.clientId,receiverId:t,label:e.candidate.sdpMLineIndex,candidate:e.candidate.candidate};n(Object(N.wsSendMessage)(c))}},console.log("before offer creation"),e.next=11,Object(h.a)(f.a.mark((function e(){var c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in offer creation"),e.prev=1,e.next=4,r.createOffer();case 4:c=e.sent,r.setLocalDescription(c),console.log("offer creation succeeded"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error in setting session desc");case 12:o={method:"webRTCOffer",sdp:c,senderId:a.user.clientId,receiverId:t},console.log("sending offer websocket"),n(Object(N.wsSendMessage)(o));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))();case 11:e.sent;case 12:case"end":return e.stop()}}),e)})),d.s();case 51:if((p=d.n()).done){e.next=55;break}return e.delegateYield(g(),"t1",53);case 53:e.next=51;break;case 55:e.next=60;break;case 57:e.prev=57,e.t2=e.catch(48),d.e(e.t2);case 60:return e.prev=60,d.f(),e.finish(60);case 63:return e.abrupt("break",89);case 64:return console.log("updating the playerlist"),n((E=c,{type:u.UPDATE_PLAYER_LIST,payload:E})),e.abrupt("break",89);case 67:return n(w(c.id)),e.abrupt("break",89);case 69:return n({type:"end_game",payload:{playerlist:c.playerlist}}),e.abrupt("break",89);case 71:return console.log("webrtcoffer"),console.log(c),j=new RTCPeerConnection(M),k[c.senderId]=j,D(j),j.ontrack=function(e){console.log(e),console.log("remote stream attached <---",c.senderId);var t=document.createElement("video");t.autoplay="autoplay",t.srcObject=e.streams[0],t.setAttribute("id",c.senderId),document.getElementById("audioEvents").appendChild(t),R[c.senderId]=e.streams[0]},j.onicecandidate=function(e){if(e.candidate){var t={method:"sendIceCandidate",senderId:a.user.clientId,receiverId:c.senderId,label:e.candidate.sdpMLineIndex,candidate:e.candidate.candidate};n(Object(N.wsSendMessage)(t))}},j.setRemoteDescription(new RTCSessionDescription(c.sdp)),e.next=81,Object(h.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in offer creation"),e.prev=1,e.next=4,j.createAnswer();case 4:t=e.sent,j.setLocalDescription(t),console.log("offer creation succeeded"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error in setting session desc");case 12:r={method:"webRTCAnswer",sdp:t,senderId:a.user.clientId,receiverId:c.senderId},console.log("sending answer websocket"),n(Object(N.wsSendMessage)(r));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))();case 81:return e.sent,e.abrupt("break",89);case 83:return k[c.senderId].setRemoteDescription(c.sdp),e.abrupt("break",89);case 85:return v=new RTCIceCandidate({sdpMLineIndex:c.label,candidate:c.candidate}),k[c.senderId].addIceCandidate(v),e.abrupt("break",89);case 88:console.log("other event:"+c.method);case 89:case"end":return e.stop()}var E,I,y,x,L,P}),e,null,[[48,57,60,63]])}))(),"t0",3);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),P=n(2),G=P.WS_CONNECT,W=P.WS_DISCONNECT,U=P.WS_SEND_MESSAGE,B=n(7),J=(B.wsConnect,B.wsDisconnect,function(){var e=null;return function(t){return function(n){return function(a){switch(a.type){case G:console.log("middle ware",G),null!=e&&(e.close(),""),(e=new WebSocket(a.host)).onmessage=function(e){return function(t){L(t,e.dispatch,e.getState())}}(t),e.onclose=function(e){console.log("web socket connection closed")},e.onopen=function(e){console.log("web socket connection opened")};break;case W:console.log("reducer",W),null!=e&&e.close(),e=null,"";break;case U:console.log("sending the message",a.payload),e.send(JSON.stringify(a.payload));break;default:console.log("default action",a.type," not found")}return n(a)}}}}),Y={players:[],localStream:null,remoteCords:[0,0,0,0],receivedDrawEvent:!1,image:null,choice:null,selector:null,hint:null,playerlist:null};var H=Object(i.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SOCKET:return Object(d.a)(Object(d.a)({},e),{},{ws:t.payload.ws});case u.GAME_ID:return Object(d.a)(Object(d.a)({},e),{},{gameId:t.payload.gameId});case u.CLIENT_ID:return Object(d.a)(Object(d.a)({},e),{},{clientId:t.payload.clientId});case u.NAME:return Object(d.a)(Object(d.a)({},e),{},{name:t.payload.name});case u.GUESS:return console.log(t),Object(d.a)(Object(d.a)({},e),{},{chatEvent:t.payload.chatEvent});case"set_create":return Object(d.a)(Object(d.a)({},e),{},{isCreator:!0});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.UPDATE_PLAYER_LIST:return Object(d.a)(Object(d.a)({},e),{},{players:t.payload.playerlist});case u.UPDATE_POINTS:return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(e){return e.id==t.payload.id&&e.points++,e}))});case u.REMOVE_PLAYER:return Object(d.a)(Object(d.a)({},e),{},{players:e.players.filter((function(e){return e.id!=t.payload.id}))});case u.DRAW:return Object(d.a)(Object(d.a)({},e),{},{image:t.payload.image});case u.SET_REMOTE_CORDS:return Object(d.a)(Object(d.a)({},e),{},{remoteCords:t.payload.cords,receivedDrawEvent:!e.receivedDrawEvent});case u.SET_LOCAL_STREAM:return Object(d.a)(Object(d.a)({},e),{},{localStream:t.payload.stream});case u.SET_REMOTE_STREAM:var n=JSON.parse(JSON.stringify(e.players));return console.log("setremotestream game reducer"),console.log(n),n.forEach((function(e){e.id==t.payload.id&&(e.remoteStream=t.payload.stream)})),Object(d.a)(Object(d.a)({},e),{},{players:n});case"CHOICE":return Object(d.a)(Object(d.a)({},e),{},{choice:t.payload.words});case"SELECTOR":return Object(d.a)(Object(d.a)({},e),{},{selector:t.payload.name});case"HINT":return Object(d.a)(Object(d.a)({},e),{},{hint:JSON.parse(JSON.stringify(t.payload.hint))});case"end_game":return Object(d.a)(Object(d.a)({},e),{},{playerlist:t.payload.playerlist});default:return e}}}),V=[g.a,J()],K=Object(i.d)(H,Object(i.c)(i.a.apply(void 0,V))),q=n(5),X=n(9),z=(n(65),n(1));var F=function(e){var t=Object(a.useState)(!1),n=Object(X.a)(t,2),c=n[0],r=n[1],o=Object(s.c)((function(e){return{clientId:e.user.clientId,localStream:e.game.localStream}})),l=function(){var t=document.getElementById("audioEvents");console.log(t);var n=t.childNodes;if(console.log("clicked element id",e.id),o.clientId==e.id&&null!=o.localStream)return console.log("self mute"),c?o.localStream.getAudioTracks().forEach((function(e){return e.enabled=!0})):o.localStream.getAudioTracks().forEach((function(e){return e.enabled=!1})),void r(!c);n.forEach((function(t){t.getAttribute("id")==e.id&&(console.log("action on",e.name),null!=t.srcObject&&(c?t.srcObject.getAudioTracks().forEach((function(e){return e.enabled=!0})):t.srcObject.getAudioTracks().forEach((function(e){return e.enabled=!1})),r(!c)))}))};return Object(z.jsxs)("div",{className:"player",style:{color:e.id==o.clientId?"red":""},children:[Object(z.jsx)("div",{children:e.name}),Object(z.jsx)("div",{children:e.points}),c?Object(z.jsx)("span",{className:"material-icons",onClick:l,children:"volume_off"}):Object(z.jsx)("span",{className:"material-icons",onClick:l,children:"volume_up"})]})};n(67);var Q,Z,$,ee,te=function(){Object(s.b)();var e=Object(s.c)((function(e){return e.game.players})).map((function(e){return Object(z.jsx)(F,{id:e.id,name:e.name,points:e.points},e.id)}));return Object(z.jsx)("div",{className:"leader-board-container",children:e})},ne=function(e){var t=e.canDraw,n=Object(a.useState)(!1),c=Object(X.a)(n,2),r=c[0],o=c[1],l=Object(a.useRef)(null),i=Object(a.useRef)(null),d=Object(s.b)(),u=Object(s.c)((function(e){return{clientId:e.user.clientId,gameId:e.user.gameId,remoteCords:e.game.remoteCords,image:e.game.image,receivedDrawEvent:e.game.receivedDrawEvent,choice:e.game.choice,selector:e.game.selector}}));console.log("remote",u.remoteCords),Object(a.useEffect)((function(){var e=l.current;e.width=parseInt(getComputedStyle(document.querySelector("#canvasElement")).getPropertyValue("width")),e.height=window.innerHeight,e.style.width="100%",e.style.height="100%";var t=e.getContext("2d");t.lineCap="round",t.strokeStyle="black",t.lineWidth=2,i.current=t}),[]),Object(a.useEffect)((function(){console.log("received new cords",u.remoteCords);var e=Object(X.a)(u.remoteCords,4),t=e[0],n=e[1],a=e[2],c=e[3],r=JSON.parse(sessionStorage.getItem("currentState"));console.log("old cords",r),null!=r&&(console.log(r),r.map((function(e){console.log("cord",e);var t=Object(X.a)(e,4),n=t[0],a=t[1],c=t[2],r=t[3];p(n,a,c,r)})),sessionStorage.removeItem("currentState")),p(t,n,a,c)}),[u.receivedDrawEvent]);var p=function(e,t,n,a){i.current.beginPath(),i.current.moveTo(e,t),i.current.lineTo(n,a),i.current.stroke(),i.current.closePath()};function b(){var e=l.current;i.current.clearRect(0,0,e.width,e.height)}Object(a.useEffect)((function(){null!==u.choice&&b()}),[u.choice]),Object(a.useEffect)((function(){null!==u.selector&&b()}),[u.selector]),Object(a.useEffect)((function(){u.image}),[u.image]);var g=function(e){var t=l.current;return{x:e.offsetX*t.width/t.clientWidth|0,y:e.offsetY*t.height/t.clientHeight|0}};return Object(z.jsx)("canvas",{onMouseDown:function(e){var n=e.nativeEvent;t&&(i.current.beginPath(),Q=g(n).x,Z=g(n).y,i.current.moveTo(Q,Z),console.log("moved to "+Q+", "+Z),o(!0))},onMouseUp:function(){i.current.closePath(),o(!1),clearInterval(undefined)},onMouseMove:function(e){var t=e.nativeEvent;if(r){$=g(t).x,ee=g(t).y,console.log(Q,Z,$,ee);var n={method:m.a.SET_REMOTE_CORDS,gameId:u.gameId,clientId:u.clientId,cords:[Q,Z,$,ee]};d(Object(N.wsSendMessage)(n)),i.current.lineTo($,ee),i.current.stroke(),Q=$,Z=ee}},ref:l,id:"canvasElement",style:{width:"100%"},disabled:!0})},ae=(n(68),function(){var e=Object(a.useState)(!1),t=Object(X.a)(e,2),n=t[0],c=t[1],r=Object(s.b)(),o=Object(s.c)((function(e){return{clientId:e.user.clientId,name:e.user.name,gameId:e.user.gameId,chatEvent:e.user.chatEvent}}));Object(a.useEffect)((function(){console.log("chatEvent:"),console.log(o.chatEvent),i(o.chatEvent)}),[o.chatEvent]);var l=function(e){null===e&&(e=document.getElementsByClassName("textContainer")[0].value),""!==(e=e.trim())&&(console.log("id:"+o.clientId+" name:"+o.name+"gameId:"+o.gameId),e={method:m.a.GUESS,guessWord:e,clientId:o.clientId,name:o.name,gameId:o.gameId},r(Object(N.wsSendMessage)(e)),document.getElementsByClassName("textContainer")[0].value="")},i=function(e){if(e){console.log("addChatMessage message:"),console.log(e);var t=d(e);document.getElementById("chatMessages").innerHTML+=t;var n=document.getElementById("outerContainer");n.scrollTop=n.scrollHeight}else console.log("Invalid message")},d=function(e){var t=e.clientId===o.clientId;if(console.log(e),e.points){var n=(t?"You":e.name)+" got it right";return"<li class=notif>".concat(n,"</li>")}var a=t?"mine":"their",c="";return t||(c="<span class='senderName'>".concat(e.name,"</span>")),"<li class='message ".concat(a,"'>\n        <div class='messageContainer'>\n            ").concat(c,"\n            <span class='messageBody'>\n                ").concat(e.guessWord,"\n            </span>\n        </div>\n    </li>")},u=function(){c(!n)},p=n?Object(z.jsx)("span",{className:"material-icons micButton",onClick:function(){return u()},children:"mic"}):Object(z.jsx)("span",{className:"material-icons micButton",onClick:function(){return u()},children:"mic_off"});return Object(z.jsxs)("div",{className:"outerContainer",id:"outerContainer",children:[Object(z.jsx)("div",{className:"chatContainer",children:Object(z.jsx)("div",{id:"chatMessages",className:"chatMessages"})}),Object(z.jsx)("footer",{children:Object(z.jsxs)("div",{className:"footerContainer",children:[Object(z.jsx)("input",{className:"textContainer",id:"textInputContainer",placeholder:"Type a message...",onKeyPress:function(e){return"Enter"===e.key?l(e.target.value):null}}),Object(z.jsx)("i",{className:"material-icons sendButton",onClick:function(){return l(null)},children:"send"}),p]})})]})}),ce=(n(69),function(e){e.handleClose;var t=e.show,n=e.children,a=t?"modal display-block":"modal display-none";return Object(z.jsx)("div",{className:a,children:Object(z.jsx)("section",{className:"modal-main",children:n})})});n(70);var re=function(){var e=Object(q.f)(),t=Object(s.b)(),n=Object(a.useState)(null),c=Object(X.a)(n,2),r=c[0],o=c[1],l=Object(a.useState)(!1),i=Object(X.a)(l,2),d=i[0],u=i[1],p=Object(s.c)((function(e){return{gameId:e.user.gameId,clientId:e.user.clientId,isCreator:e.user.isCreator,choice:e.game.choice,selector:e.game.selector,hint:e.game.hint,playerlist:e.game.playerlist}})),b=Object(a.useState)(p.isCreator),g=Object(X.a)(b,2),j=g[0],f=g[1];function O(){var e={method:m.a.START_GAME,gameId:p.gameId};f(!1),t(Object(N.wsSendMessage)(e))}function h(){var e=window.location.pathname.split("/")[2];console.log(e),navigator.clipboard.writeText(e)}return Object(a.useEffect)((function(){null!==p.choice&&(f(!0),console.log(p.choice),o(Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:"choose a word"}),p.choice.map((function(e){return Object(z.jsx)("button",{onClick:function(){!function(e){var n={method:"choice",word:e,clientId:p.clientId,gameId:p.gameId};f(!1),t(Object(N.wsSendMessage)(n)),u(!0)}(e)},children:e},e)}))]})))}),[p.choice]),Object(a.useEffect)((function(){null!==p.selector&&(t(_(null)),u(!1),f(!0),o(Object(z.jsx)("div",{children:Object(z.jsxs)("p",{children:["Please wait ",p.selector," is choosing a word"]})})))}),[p.selector]),Object(a.useEffect)((function(){null===p.gameId&&e.push("/")}),[p.gameId]),Object(a.useEffect)((function(){o(Object(z.jsxs)("div",{children:["Click here to copy the game code",Object(z.jsx)("span",{className:"material-icons copyButton",onClick:h,children:"content_copy"}),Object(z.jsx)("button",{onClick:O,children:"Start Game!"})]}))}),[]),Object(a.useEffect)((function(){console.log("hint useeffect"),null!==p.hint&&(console.log("hint:",p.hint),f(!1))}),[p.hint]),Object(a.useEffect)((function(){if(null!==p.playerlist){var e=p.playerlist;e.sort((function(e,t){return e.points>t.points?-1:1})),console.log("playlist"),console.log(e),console.log(typeof e),f(!0),o(Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:"Leader Board"}),p.playerlist.map((function(e){return Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:e.name}),Object(z.jsx)("p",{children:e.points})]},e.id)})),Object(z.jsx)("p",{children:"Game Ended!!!"})]}))}}),[p.playerlist]),Object(z.jsxs)("div",{className:"gamePageContainer",children:[Object(z.jsx)("div",{className:"col-sm-2 leaderBoard",children:Object(z.jsx)(te,{})}),Object(z.jsx)("div",{className:"col-sm-8 canvas",children:Object(z.jsx)(ne,{canDraw:d})}),Object(z.jsx)("div",{className:"col-sm-2 chat",children:Object(z.jsx)(ae,{})}),Object(z.jsx)("div",{id:"audioEvents"}),Object(z.jsx)(ce,{id:"modal",show:j,children:r})]})};n(73);var oe=function(){console.log("render landing");var e=c.a.useState(!1),t=Object(X.a)(e,2),n=t[0],a=t[1],r=Object(s.b)(),o=Object(q.f)(),l=(Object(s.c)((function(e){return{clientId:e.user.clientId,gameId:e.user.gameId,name:e.user.name,isClientCreated:e.user.isClientCreated,isGameCreated:e.user.isGameCreated}})),function(){var e=Object(h.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("joinButtonHandler"),r(x(document.getElementById("name").value)),t=document.getElementById("gameId").value,n={gameId:t},e.next=6,E.a.get(y.URL+"isValidGame",{headers:n});case 6:if(a=e.sent,console.log(a.data),a&&a.data&&a.data.valid){e.next=11;break}return alert("Game id is Invalid. Please check again"),e.abrupt("return");case 11:r(C(t)),r(Object(N.wsConnect)(y.WS_URL)),o.push("game/"+t);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(z.jsx)("div",{className:"LandingPage",children:Object(z.jsxs)("div",{className:"well",children:[Object(z.jsxs)("div",{className:"row selectors ",children:[Object(z.jsx)("input",{type:"text",className:"create",defaultValue:"Create",readOnly:!0,onClick:function(){a(!1)}}),Object(z.jsx)("input",{type:"text",className:"join",defaultValue:"Join",readOnly:!0,onClick:function(){a(!0)}})]}),n?Object(z.jsxs)("div",{className:"row joinCell",children:[Object(z.jsxs)("div",{className:"input-container",children:[Object(z.jsx)("input",{type:"text",id:"name",placeholder:"Enter Your Name"}),Object(z.jsx)("input",{type:"text",id:"gameId",placeholder:"Enter Game Id"})]}),Object(z.jsx)("div",{children:Object(z.jsx)("input",{type:"button",value:"Join",onClick:l})})]}):Object(z.jsxs)("div",{className:"row createCell",children:[Object(z.jsx)("input",{type:"text",id:"name",placeholder:"Enter Your Name"}),Object(z.jsx)("input",{type:"button",value:"Create",onClick:function(){r({type:"set_create"}),r(x(document.getElementById("name").value)),r((function(e){return console.log(y),E.a.post(y.URL+"create-game").then((function(t){return console.log(t.data),t=t.data,e(C(t.gameId)),"game/".concat(t.gameId)})).catch((function(e){return""}))})).then((function(e){""!=e&&(console.log("config.url:"),console.log(y),r(Object(N.wsConnect)(y.WS_URL)),o.push(e))}))}})]})]})})};var se=function(e){return Object(z.jsxs)(q.c,{children:[Object(z.jsx)(q.a,{exact:!0,path:"/",children:Object(z.jsx)(oe,{props:e})}),Object(z.jsx)(q.a,{path:"/game/:code",children:Object(z.jsx)(re,{})})]})};o.a.render(Object(z.jsx)(s.a,{store:K,children:Object(z.jsx)(l.a,{children:Object(z.jsx)("div",{className:"playGroundContainer",children:Object(z.jsx)(se,{props:K})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.2189fa5a.chunk.js.map